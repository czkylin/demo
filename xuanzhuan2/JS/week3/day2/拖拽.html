<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>拖拽</title>
<script>
/*
	//方法1
	window.onload= function(){
		var div1= document.getElementById("div1");
		var div2= document.getElementById("div2");
		var disX= 0, disY= 0;
		var isDown= false;
		div2.onmousedown= function(evt){
			var e= evt || window.event;
			disX= e.offsetX;
			disY= e.offsetY;
			isDown= true;
		}
		document.onmousemove= function(evt){
			var e= evt || window.event;
			if(isDown){
				var e= evt || window.event;
				div1.style.left= e.clientX - disX + "px";
				div1.style.top= e.clientY - disY + "px";
			}
		}
		div2.onmouseup= function(){
			isDown= false;
		}
	}
*/

	//方法2
	window.onload= function(){
		div2.onmousedown= function(evt){
			var e= evt || window.event;
			disX= e.offsetX;
			disY= e.offsetY;
			document.onmousemove= function(evt){
				var e= evt || window.event;
				div1.style.left= e.clientX - disX + "px";
				div1.style.top= e.clientY - disY + "px";
			}
			div2.onmouseup= function(){
				document.onmousemove= null;
			}
		}
	}
</script>
</head>

<body>
	<div id="div1" style="width: 400px;height: 400px;background-color: red;position: absolute;left: 200px;top: 200px;">
        <div id="div2" style="cursor: move; width: 100%; height: 40px; background-color: gray;"></div>
    </div>

</body>
</html>
